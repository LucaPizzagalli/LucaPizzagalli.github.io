{"version":3,"sources":["webpack://gatsby-starter-default/./src/pages/page-2.js"],"names":["ImageInput","render","type","onChange","e","props","React","ImageView","body","this","image","startsWith","src","alt","className","hovering","onDrop","onDragOver","onDragLeave","ImageEditor","state","handleDragOver","event","preventDefault","setState","handleDragLeave","handleSubmit","alert","dataTransfer","items","file","getAsFile","console","log","name","imageState","URL","createObjectURL","title","Link","to"],"mappings":"kMA8BMA,E,6FACJC,OAAA,WAAU,IAAD,OACP,OACE,2BACE,gDACA,yBAAOC,KAAK,OAAOC,SAAU,SAACC,GAAD,OAAO,EAAKC,MAAMF,SAASC,Q,GALvCE,aAWnBC,E,6FACJN,OAAA,WAAU,IAWJO,EAXG,OAgCP,OAnBEA,EADEC,KAAKJ,MAAMK,OAASD,KAAKJ,MAAMK,MAAMR,KAAKS,WAAW,UAErD,2BACE,uBAAKC,IAAKH,KAAKJ,MAAMK,MAAOG,IAAI,0BAG7BJ,KAAKJ,MAAMK,MAEhB,2BACE,oFAKF,2BACE,6DACA,yDAKJ,uBAAKI,UAAWL,KAAKJ,MAAMU,SAAUC,OAAQ,SAACZ,GAAD,OAAO,EAAKC,MAAMW,OAAOZ,IAAIa,WAAY,SAACb,GAAD,OAAO,EAAKC,MAAMY,WAAWb,IAAIc,YAAa,SAACd,GAAD,OAAO,EAAKC,MAAMa,YAAYd,KAC/JI,I,GAnCeF,aAyClBa,E,YACJ,WAAYd,GAAQ,IAAD,SACjB,cAAMA,IAAN,MACKe,MAAQ,CAACL,SAAS,YAAcL,MAAO,MAF3B,G,uCAKnBW,eAAA,SAAeC,GACbA,EAAMC,iBACNd,KAAKe,SAAS,CAACT,SAAS,a,EAG1BU,gBAAA,SAAgBH,GACdA,EAAMC,iBACNd,KAAKe,SAAS,CAACT,SAAS,e,EAG1BW,aAAA,SAAaJ,GASX,GARAA,EAAMC,iBAMNI,MAAML,GAEFA,EAAMM,aAAaC,MAAO,CAC5B,IAAIC,EAAOR,EAAMM,aAAaC,MAAM,GAAGE,YACvCC,QAAQC,IAAI,mBAAqBH,EAAKI,MACtCzB,KAAKe,SAAS,CAACT,SAAS,YAAcoB,WAAY,aAAczB,MAAO0B,IAAIC,gBAAgBP,O,EAI/F7B,OAAA,WAAU,IAAD,OACP,OACE,2BACE,gBAACD,EAAD,CAAYG,SAAU,SAACC,GAAD,OAAO,EAAKsB,aAAatB,MAC/C,gBAACG,EAAD,CAAWQ,SAAUN,KAAKW,MAAML,SAAUL,MAAOD,KAAKW,MAAMV,MAAOO,WAAY,SAACb,GAAD,OAAO,EAAKiB,eAAejB,IAAIc,YAAa,SAACd,GAAD,OAAO,EAAKqB,gBAAgBrB,IAAIY,OAAQ,SAACZ,GAAD,OAAO,EAAKsB,aAAatB,Q,GApC1KE,aAwD1B,UAbmB,kBACjB,gBAAC,IAAD,KACA,gBAAC,IAAD,CAAKgC,MAAM,aACX,qDACA,8CAEA,gBAACnB,EAAD,MAGA,gBAAC,EAAAoB,KAAD,CAAMC,GAAG,KAAT","file":"component---src-pages-page-2-js-bd9c041a6eb23eda8c85.js","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"gatsby\"\r\n\r\nimport Layout from \"../components/layout\"\r\nimport SEO from \"../components/seo\"\r\n\r\n// class Toggle extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {isToggleOn: true};\r\n\r\n//     // This binding is necessary to make `this` work in the callback\r\n//     this.handleClick = this.handleClick.bind(this);\r\n//   }\r\n\r\n//   handleClick() {\r\n//     this.setState(state => ({\r\n//       isToggleOn: !state.isToggleOn\r\n//     }));\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <button onClick={this.handleClick}>\r\n//         {this.state.isToggleOn ? 'ON' : 'OFF'}\r\n//       </button>\r\n//     );\r\n//   }\r\n// }\r\n\r\nclass ImageInput extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <label>Select a photo:</label>\r\n        <input type=\"file\" onChange={(e) => this.props.onChange(e)} />\r\n      </div>\r\n      );\r\n    }\r\n  }\r\n\r\nclass ImageView extends React.Component {\r\n  render() {\r\n    // if (this.state.image && this.state.image.type.startsWith('image/')){\r\n    //   console.log(this.state.image);\r\n    //   return (\r\n    //     <div>\r\n    //       <img src={this.state.image} alt=\"la tua freaking face\" />\r\n    //     </div>\r\n    //   );\r\n    // }\r\n    // if (this.state.image){\r\n    \r\n    let body;\r\n    if (this.props.image && this.props.image.type.startsWith('image/'))\r\n      body = (\r\n        <div>\r\n          <img src={this.props.image} alt=\"la tua freaking face\" />\r\n        </div>\r\n      );\r\n    else if (this.props.image)\r\n      body = (\r\n        <div>\r\n          <p>Image format not supported. Try with a .jpeg or .png !</p>\r\n        </div>\r\n      );\r\n    else\r\n      body = (\r\n        <div>\r\n          <p>or Drag and Drop your photo here</p>\r\n          <p>Image format not supported!</p>\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <div className={this.props.hovering} onDrop={(e) => this.props.onDrop(e)} onDragOver={(e) => this.props.onDragOver(e)} onDragLeave={(e) => this.props.onDragLeave(e)}>\r\n        {body}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass ImageEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {hovering: `unhovered`, image: null};\r\n  }\r\n\r\n  handleDragOver(event) {\r\n    event.preventDefault();\r\n    this.setState({hovering: `hovered`});\r\n  }\r\n\r\n  handleDragLeave(event) {\r\n    event.preventDefault();\r\n    this.setState({hovering: `unhovered`});\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    // if (this.props.image && this.props.image.type.startsWith(`image/`))\r\n    //   this.setState({imageState: `uploaded`})\r\n    // else if (this.props.image)\r\n    //   this.setState({imageState = `failed`})\r\n\r\n    alert(event)\r\n\r\n    if (event.dataTransfer.items) {\r\n      let file = event.dataTransfer.items[0].getAsFile();\r\n      console.log('... file.name = ' + file.name);\r\n      this.setState({hovering: `unhovered`, imageState: 'imageState', image: URL.createObjectURL(file)});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ImageInput onChange={(e) => this.handleSubmit(e)} />\r\n        <ImageView hovering={this.state.hovering} image={this.state.image} onDragOver={(e) => this.handleDragOver(e)} onDragLeave={(e) => this.handleDragLeave(e)} onDrop={(e) => this.handleSubmit(e)} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst SecondPage = () => (\r\n  <Layout>\r\n  <SEO title=\"Page two\" />\r\n  <h1>Hi from the second page</h1>\r\n  <p>Welcome to page 2</p>\r\n  \r\n  <ImageEditor />\r\n  \r\n  {/* <Toggle /> */}\r\n  <Link to=\"/\">Go back to the homepage</Link>\r\n  </Layout>\r\n  )\r\n  \r\nexport default SecondPage"],"sourceRoot":""}